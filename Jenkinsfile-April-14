node{
    def mavenHome = tool name : 'maven'
     stage('clonefromscm'){        
        git branch: 'mj', url: 'https://github.com/Lion-Technology-Solutions/liontech-joinedproject.git'
    }

    stage('build-test&package'){
        sh "${mavenHome}/bin/mvn clean package"
    }

    stage('code quality analysis'){
        sh "${mavenHome}/bin/mvn sonar:sonar"
        shdeploy adapters: [tomcat9(path: '', url: 'http://localhost:8009/')], contextPath: 'Jenkinsfile-April-14', war: 'target/*.war' "echo 'deploy to tomcat dev environment'"
    }
}