node{
    def mavenHome = tool name : 'maven'
     stage('clonefromscm'){        
        git branch: 'mj', url: 'https://github.com/Lion-Technology-Solutions/liontech-joinedproject.git'
    }

    stage('build-test&package'){
        sh "${mavenHome}/bin/mvn clean package"
    }

    stage('code quality analysis'){
        sh "${mavenHome}/bin/mvn sonar:sonar"
    }

   stage('store artifact to nexus'){
        sh "${mavenHome}/bin/mvn deploy"
    } 
  }